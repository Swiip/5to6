<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>reveal.js - The HTML Presentation Framework</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/night.css" id="theme">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<h1>ES6 par le code</h1>
				</section>

				<section>
					<h2>Matthieu Lux</h2>
					<ul>
						<li>Zenika</li>
						<li>LyonJS</li>
						<li>Generator</li>
					</ul>
				</section>

				<section>
					<h2>generator-gulp-angular</h2>
					<h3>Version 1.0.0 \o/</h3>
					<p>tech logos</p>
				</section>

				<section>
					<h1>ES6 par le code</h1>
				</section>

				<section>
					<h2>Rapide historique</2>
				</section>

				<section>
					<ul>
						<li>Netscape lance JavaScript</li>
						<li>Netscape le soumet à l'ECMA</li>
						<li>ECMAScript 1</li>
						<li>ECMAScript 2</li>
						<li>ECMAScript 3</li>
						<li>ECMAScript 4 abandonné</li>
						<li>ECMAScript 5</li>
						<li>ECMAScript 6 Harmony</li>
					</ul>
				</section>

				<section>
					<h2>TC39</h2>
					<h3><a>https://github.com/tc39</a></h3>
				</section>

				<section>
					<h2>Standard ECMA-262</h2>
					<h3>ECMAScript® 2015 Language Specification</h3>
					<h3>6th edition (June 2015)</h3>
				</section>

				<section>
					<h2>Outillage</h2>
				</section>

				<section>
					<h2>Traceur</h2>
				</section>

				<section>
					<h2>Babel</h2>
					<h3>Anciennement 6to5</h3>
				</section>

				<section>
					<h2>Babel plugins</h2>
					<ul>
						<li>Grunt</li>
						<li>Gulp</li>
						<li>Browserify</li>
						<li>Webpack</li>
						<li>ESLint</li>
						<li>Babel Node</li>
					</ul>
				</section>

				<section>
					<h2>Et sans précompilation ?</h2>
					<img src="img/compat.png">
				</section>

				<section>
					<h2>L'appli</h2>
					<ul>
						<li>Angular</li>
						<li>Angular Material</li>
						<li>Angular New Router</li>
						<li>ES5</li>
						<li>Generator Gulp Angular simplifié</li>
					</ul>
				</section>

				<section>
					<h2>Les incontournables</h2>
				</section>

				<section>
					<h2>let</h2>
					<pre><code data-trim class="javascript">
if (true) {
  var foo = 1;
  let bar = 2;
}

console.log(foo);
// 1
console.log(bar);
// ReferenceError: bar is not defined
					</code></pre>
				</section>

				<section>
					<h2>const</h2>
					<pre><code data-trim class="javascript">
var foo = 1;
const bar = 2;

foo = 3;
// foo === 3
bar = 4;
// Line 6: "bar" is read-only
					</code></pre>
				</section>

				<section>
					<h2>string</h2>
					<pre><code data-trim class="javascript">
const foo = "string with double quote";
const bar = 'string with simple quote';
const fooBar = `string with back tick!
multiline!!
with interpolation ${foo} ${bar}`
					</code></pre>
				</section>

				<section>
					<h2>Des classes en JavaScript ?</h2>
				</section>

				<section>
					<h2>class</h2>
					<pre><code data-trim class="javascript">
class Foo {
  constructor() {
    console.log('constructor');
  }

  bar() {
    console.log('bar');
  }
}
					</code></pre>
				</section>

				<section>
					<h2>class</h2>
					<pre><code data-trim class="javascript">
var Foo = (function () {
  function Foo() {
    //(...)
    console.log('constructor');
  }

  Foo.prototype.bar = function bar() {
    console.log('bar');
  };

  return Foo;
})();
					</code></pre>
				</section>

				<section>
					<h2>=></h2>
					<pre><code data-trim class="javascript">
let foo = (arg1, arg2) => {
  console.log('foo called', arg1, arg2);
};
foo(1, 2); // foo called 1 2

foo = onlyOneArg => {
  console.log('foo called', onlyOneArg);
}
foo(1); // foo called 1

foo = onlyOneArg => onlyOneArg + 1;
console.log(foo(1)); // 2
					</code></pre>
				</section>

				<section>
					<h2>=></h2>
					<pre><code data-trim class="javascript">
class Foo {
  constructor() {
    this.values = [1, 2, 3, 4, 5];
    this.increment = 42;

    this.values.map((value) => {
      return value + this.increment;
    });
  }
}
					</code></pre>
				</section>

				<section>
					<h2>Modularisation !</h2>
				</section>

				<section>
					<h2>modules</h2>
					<pre><code data-trim class="javascript">
// foo.js
export const foo = 42;
export const log = console.log;

// bar.js
import foo from './foo';
foo.log(foo.foo); // => 42
					</code></pre>
				</section>

				<section>
					<h2>destructuration</h2>
					<pre><code data-trim class="javascript">
let[a, b] = [1, 2];
console.log(a, b); //=> 1 2

var foo = () => [1, 2, 3];

var [a, , b] = foo();
console.log(a, b);// => 1 3

var {user: x} = {user: 5};
console.log(x); // => 5

var { prop, prop2 } = {prop: 5, prop2: 10};
console.log(prop, prop2); // => 5 10
					</code></pre>
				</section>

				<section>
					<h2>module + destructuration</h2>
					<pre><code data-trim class="javascript">
// foo.js
export const foo = 42;
export const log = console.log;

// bar.js
import { foo, log } from './foo';
log(foo); // => 42
					</code></pre>
				</section>

				<section>
					<h2>Utiliser des modules ES6 en 2015</h2>
				</section>

				<section>
					<h3>CommonJS (Webpack / Browserify)</h3>
					<!-- <pre><code data-trim class="javascript">
// foo.js
export const foo = 42;
// bar.js
import { foo } from './foo';

//// Babel
// foo.js
module.exports.foo = 42
// bar.js
var foo = require('./foo').foo;

//// Webpack
/*(...)*/([
  function(module, exports, __webpack_require__) {
    exports.foo = 42;
  },
  function(module, exports, __webpack_require__) {
    var foo = __webpack_require__(1).foo;
  }
]);
					</code></pre> -->
					<ul>
						<li>Utilisation des modules ES6</li>
						<li>&darr; Babel avec option CommonJS &darr;</li>
						<li>Base de code en CommonJS</li>
						<li>&darr; Webpack ou Browserify &darr;</li>
						<li>Bundle (fichier) utilisable dans un navigateur</li>
					</ul>
				</section>

				<section>
					<h3>SystemJS</h3>
					<ul>
						<li>API ES5 qui reproduit les fonctionnalité ES5</li>
						<li>Babel a également une option SystemJS</li>
						<li>Charge en asynchrone les dépendances des modules</li>
						<li>Fonctionnalité de bundle pour le prod</li>
						<li>JSPM permet de gérer les dépendance externes</li>
					</ul>
				</section>

				<section>
					<h3>Natif ?</h3>
					<ul>
						<li>Aucun navigateur ne le supporte</li>
						<li>Arrivée de la balise <code class="html">&lt;module&gt;</code></li>
						<li>Remplace avantageusement la balise <code class="html">&lt;script&gt;</code></li>
						<li>Sera lié au déploiement d'HTTP2</li>
						<li><a href="http://www.2ality.com/2013/11/es6-modules-browsers.html">http://www.2ality.com/2013/11/es6-modules-browsers.html</a></li>
					</ul>
				</section>

				<section>
					<h2>Asynchrone</h2>
				</section>

				<section>
					<h2>Promesses</h2>
					<!-- <h3>Un objet qui représente la promesse d'avoir une valeur de retour... plus tard.</h3> -->
					<pre><code data-trim class="javascript">
// Callback
xhr(options, (response) => {
  // do something
});

// Promise
const promise = xhr(option);

promise.then((response) => {
  // do something
});
					</code></pre>
				</section>

				<section>
					<h2>Promesses - API</h2>
					<pre><code data-trim class="javascript">
// Callback
function request(options, callback) {
  xhr(options, callback);
}

// Promise
function request(options) {
  return xhr(options);
}
					</code></pre>
				</section>

				<section>
					<h2>Promesses - Chaînage</h2>
					<!-- <h3>Ou plutôt encapsulation</h3> -->
					<pre><code data-trim class="javascript">
// Callback
xhr(options1, (response) => {
  xhr(options2, (response) => {
    xhr(options3, (response) => {
      // do something
    });
  });
});

// Promise
xhr(options1).then((response) => {
  return xhr(options2);
}).then((response) => {
  return xhr(options3);
}).then((response) => {
  // do something
});
					</code></pre>
				</section>

				<section>
					<h2>Promesses - Création</h2>
					<pre><code data-trim class="javascript">
const promise = new Promise(function (resolve, reject) {
  /*...*/
  if (/*...*/) {
    resolve(value); // success
  } else {
    reject(reason); // failure
  }
});
					</code></pre>
				</section>

				<section>
					<h2>Generators</h2>
					<pre><code data-trim class="javascript">
function *foo() {
  yield 1;
  yield 2;
  yield 3;
}

var it = foo();
console.log( it.next() ); // { value:1, done:false }
console.log( it.next() ); // { value:2, done:false }
console.log( it.next() ); // { value:3, done:false }
console.log( it.next() ); // { value: undefined, done: true }
					</code></pre>
				</section>

				<section>
					<h2>Generators - fibonacci</h2>
					<pre><code data-trim class="javascript">
function *fibonacci() {
  let [prev, curr] = [0, 1];
  while(true) {
    [prev, curr] = [curr, prev + curr];
    yield curr;
  }
}
					</code></pre>
				</section>

				<section>
					<h2>Generators - Promesses !</h2>
					<pre><code data-trim class="javascript">
function *async() {
  yield xhr(options1);
  yield xhr(options2);
  yield xhr(options3);
}

const it = async();
let ret = it.next();
ret.value.then((response) => {
  return it.next().value;
}).then((response) => {
  return it.next().value;
}).then((response) => {
  // do something
});
					</code></pre>
				</section>

				<section>
					<h2>Generators - co</h2>
					<pre><code data-trim class="javascript">
// Pseudo code, without any checks
function co(g) {
  var it = g(), ret;

  // asynchronously iterate over generator
  (function iterate(val){
    ret = it.next( val );

    if (!ret.done) {
      ret.value.then( iterate );
    }
  })();
}
					</code></pre>
				</section>

				<section>
					<h2>Async functions</h2>
					<pre><code data-trim class="javascript">
async function foo() {
  await xhr(options1);
  await xhr(options2);
  await xhr(options3);
}
					</code></pre>
				</section>

				<section>
					<h2>Le reste</h2>
					<!-- <ul>
						- for-of
						- parameters default value
						- rest/spread parameters
						- Map / Set & Co
						- Typed Arrays
						- Object
					</ul> -->
				</section>

				<section>
					<h2>for ... of</h2>
					<pre><code data-trim class="javascript">
let arr = [3, 5, 7];
arr.foo = "hello";

for (let i in arr) {
   console.log(i); // => 0 1 2 foo
}

for (let i of arr) {
   console.log(i); // => 3 5 7
}
					</code></pre>
				</section>

				<section>
					<h2>Valeurs par défaut</h2>
					<pre><code data-trim class="javascript">
function multiplier(a, b = 1) {
  return a * b;
}

multiplier(5); // => 5

function f(x=1, y) {
  return [x, y];
}

f(); // => [1, undefined]
					</code></pre>
				</section>

				<section>
					<h2>rest & spread</h2>
					<pre><code data-trim class="javascript">
function foo(...args) {
  console.log(args.length);
}

foo();  // => 0
foo(5); // => 1
foo(5, 6, 7); // => 3
foo(...[0, 1, 2]); // => 3
					</code></pre>
				</section>

				<section>
					<h2>Extensions des APIs</h2>
					<ul>
						<li>Object</li>
						<li>Map</li>
						<li>Set</li>
						<li>Math</li>
					</ul>
				</section>

				<section>
					<h2>The End</h2>
					<h3>Merci !</h3>
					<h3>Matthieu Lux<br><a href="https://twitter.com/Swiip">@Swiip</a></h3>
				</section>
			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
